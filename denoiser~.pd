#N canvas 880 299 724 669 10;
#N canvas 1140 612 245 436 fft-profiling 0;
#X obj 15 84 *~;
#X obj 14 19 inlet~;
#X obj 15 138 rfft~;
#X obj 36 60 tabreceive~ \$0-hann;
#X obj 14 226 *~;
#X obj 56 226 *~;
#X obj 15 252 +~;
#X obj 97 276 inlet;
#X obj 116 303 sel 1;
#N canvas 203 572 750 406 sliding 0;
#X obj 104 74 tabreceive~ \$0-profil;
#X obj 62 160 +~;
#X obj 283 9 bang~;
#X obj 283 66 f;
#X obj 312 66 + 1;
#X obj 104 132 *~;
#X obj 62 192 /~;
#X obj 312 87 + 1;
#X obj 62 19 inlet~;
#X obj 359 9 inlet reset;
#X msg 359 31 0;
#X text 250 344 sliding mean : u[n] = (n*u[n-1] + a[n]) / (n+1);
#X text 395 31 bang~ bang AFTER each DSP cycle;
#X text 398 46 we need to reset counter on the first DSP cycle;
#X obj 317 224 t b;
#X obj 103 274 bang~;
#X obj 62 352 tabwrite~ \$0-profil;
#X obj 359 140 tabwrite~ \$0-profil;
#X obj 368 110 r \$0-profil-tab;
#X obj 104 50 r \$0-profil-tab;
#X obj 74 249 r \$0-profil-tab;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 3 1;
#X connect 4 0 5 1;
#X connect 4 0 7 0;
#X connect 5 0 1 1;
#X connect 6 0 16 0;
#X connect 7 0 6 1;
#X connect 8 0 1 0;
#X connect 9 0 10 0;
#X connect 9 0 14 0;
#X connect 10 0 3 0;
#X connect 10 0 17 0;
#X connect 14 0 16 0;
#X connect 15 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 0 0;
#X connect 20 0 16 0;
#X restore 14 394 pd sliding mean;
#X obj 97 331 switch~ 512 4;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 2 0 4 1;
#X connect 2 1 5 0;
#X connect 2 1 5 1;
#X connect 3 0 0 1;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 7 0 10 0;
#X connect 8 0 9 1;
#X restore 189 198 pd fft-profiling;
#X obj 298 154 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 316 155 start/stop noise profiling;
#N canvas 0 119 450 300 array 0;
#N canvas 0 132 450 300 (subpatch) 0;
#X array \$0-profil 256 float 1;
#A 0 0.0475396 0.074714 0.143869 0.188214 0.198013 0.180419 0.161223
0.136925 0.0988523 0.0781226 0.0583888 0.0417862 0.0325664 0.0260262
0.0189369 0.012256 0.0101676 0.0102249 0.0121884 0.011346 0.0101604
0.0102857 0.0114021 0.011604 0.0106851 0.0114319 0.011755 0.0123708
0.0111664 0.0111693 0.0109092 0.0118537 0.0120325 0.0107817 0.0102845
0.010333 0.0106829 0.00948006 0.00900091 0.00906099 0.0104145 0.00953109
0.00829254 0.00820509 0.00846503 0.00844973 0.00790448 0.00762151 0.0074732
0.00732733 0.00727928 0.00678781 0.00611353 0.00651835 0.00729891 0.00714454
0.00573884 0.00551075 0.00557309 0.00568629 0.00534443 0.0052307 0.00482845
0.0043881 0.00436354 0.00430673 0.00418248 0.00401398 0.00380872 0.00378253
0.00371775 0.00376958 0.00367185 0.00341842 0.00344105 0.00359149 0.00361551
0.00325126 0.00322203 0.00344268 0.0033274 0.00336931 0.00335967 0.00308329
0.00311149 0.00310206 0.00291204 0.00261117 0.0024633 0.00247729 0.00248869
0.00233372 0.00230504 0.00244133 0.00281879 0.00661273 0.0172562 0.00628544
0.00207219 0.00208804 0.00182969 0.00160062 0.00142177 0.00134185 0.00133304
0.00133059 0.00173349 0.00196139 0.00132014 0.00118532 0.0011739 0.00120881
0.00118281 0.00113985 0.00116182 0.00118136 0.00116039 0.00112513 0.00111106
0.00107386 0.00109019 0.0012587 0.00121551 0.00110459 0.00105293 0.00107978
0.00104347 0.000982221 0.000916954 0.00087921 0.000875029 0.000864691
0.000858111 0.000834976 0.000805026 0.000817585 0.000848541 0.000819044
0.000773404 0.000769915 0.000757214 0.000762994 0.0007355 0.000732425
0.000720661 0.000689673 0.000707738 0.000710882 0.000690363 0.000666989
0.000680004 0.00068314 0.000667377 0.000656722 0.000672238 0.000633598
0.000629384 0.000646915 0.000648216 0.000606322 0.000608717 0.000645266
0.000619837 0.000602313 0.000611132 0.000623505 0.000599342 0.000611464
0.000625533 0.00059366 0.000566436 0.000593421 0.000613986 0.000594098
0.121 0.121 0.118 0.116 0.11 0.099 0.091 0.082 0.079 0.077 0.000570779
0.000573718 0.000680477 0.000759838 0.000656455 0.000624513 0.000625903
0.000681947 0.000827777 0.000754153 0.000598138 0.000581163 0.000667769
0.000817257 0.000643195 0.000591121 0.00082101 0.00188293 0.0117865
0.0817999 0.121009 0.118407 0.113806 0.0637096 0.00800521 0.00163069
0.000750309 0.000846325 0.00089603 0.00141283 0.00309376 0.0142745
0.350151 0.726132 0.560484 0.27197 0.0316616 0.00173138 0.00191046
0.00105997 0.00100852 0.000815356 0.000714576 0.000846268 0.00108657
0.00175046 0.0027922 0.00215221 0.00213875 0.00159506 0.000833928 0.000602391
0.000622281 0.000595892 0.000610948 0.000622474 0.000601493 0.000602724
0.000927712 0.000899986 0.000592951 0.000559136 0.000546508 0.000539489
0.000522244 0.00052135 0.000547903 0.000518644 0.000491679 0.000505444
0.000534378 0.000495364;
#X coords 0 0.1 255 0 256 100 1 0 0;
#X restore 73 101 graph;
#X text 72 205 0;
#X text 310 205 255;
#X text 61 191 0;
#X text 43 147 128;
#X text 42 97 256;
#X text 362 205 0;
#X text 351 191 0;
#X text 333 147 128;
#X text 332 97 256;
#X restore 142 431 pd array;
#X obj 143 49 inlet~;
#N canvas 581 359 628 533 fft-gate 0;
#X obj 15 84 *~;
#X obj 14 19 inlet~;
#X obj 15 116 rfft~, f 6;
#X obj 36 60 tabreceive~ \$0-hann;
#X obj 16 426 *~;
#X obj 37 401 tabreceive~ \$0-hann;
#X obj 15 319 rifft~;
#X obj 16 486 outlet~;
#N canvas 186 147 658 423 magnitude-threshold 0;
#X obj 138 67 *~;
#X obj 190 67 *~;
#X obj 139 93 +~;
#X obj 139 20 inlet~;
#X obj 189 20 inlet~;
#X floatatom 287 106 5 0 0 0 - - -, f 5;
#X obj 138 346 outlet~;
#X obj 269 52 tabreceive~ \$0-profil;
#X obj 269 140 *~;
#X obj 138 174 -~;
#X obj 138 196 max~ 0;
#X obj 138 266 /~;
#X obj 138 286 q8_sqrt~;
#X obj 138 315 /~ 768;
#X text 208 251 divide by 3N/2 (factor of N because rfft and rifft
aren't normalized \, and 3/2 is the gain of overlap-4 reconstruction
when Hann window function is applied twice.);
#X obj 206 196 +~ 1e-20;
#X obj 287 84 inlet;
#X text 324 106 noise reduction level;
#X obj 269 31 r \$0-profil-tab;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 9 0;
#X connect 2 0 15 0;
#X connect 3 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 1 0;
#X connect 4 0 1 1;
#X connect 5 0 8 1;
#X connect 7 0 8 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 6 0;
#X connect 15 0 11 1;
#X connect 16 0 5 0;
#X connect 18 0 7 0;
#X restore 31 172 pd magnitude-threshold;
#X obj 214 320 block~ 512 4;
#X obj 55 273 *~;
#X obj 14 273 *~;
#X obj 182 116 inlet;
#X text 148 264 Warning if you change window size \, you also have
to adjust table length \, normalization factor and block size in profiling
subpatch;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 8 0;
#X connect 2 0 11 0;
#X connect 2 1 8 1;
#X connect 2 1 10 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 8 0 11 1;
#X connect 8 0 10 1;
#X connect 10 0 6 1;
#X connect 11 0 6 0;
#X connect 12 0 8 2;
#X restore 144 350 pd fft-gate;
#X obj 144 395 outlet~;
#X obj 298 46 inlet;
#X obj 298 68 route learn level;
#X floatatom 320 271 5 0 0 0 - - -, f 5;
#X text 359 269 noise reduction level;
#X obj 411 325 loadbang;
#X obj 411 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 0 132 450 265 hann-window 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-hann 512 float 1;
#A 0 0 3.76403e-05 0.000150591 0.000338793 0.000602275 0.000940949
0.00135478 0.00184369 0.00240764 0.00304651 0.00376022 0.00454867 0.00541174
0.0063493 0.00736117 0.00844723 0.00960734 0.0108413 0.0121489 0.01353
0.0149843 0.0165117 0.0181119 0.0197847 0.0215298 0.0233469 0.0252359
0.0271963 0.0292279 0.0313304 0.0335035 0.0357469 0.0380601 0.040443
0.042895 0.0454159 0.0480052 0.0506626 0.0533877 0.05618 0.0590392
0.0619648 0.0649563 0.0680134 0.0711355 0.0743222 0.077573 0.0808874
0.0842649 0.0877051 0.0912073 0.0947711 0.0983959 0.102081 0.105826
0.109631 0.113494 0.117416 0.121395 0.125431 0.129524 0.133672 0.137876
0.142134 0.146446 0.150811 0.155229 0.159699 0.16422 0.168792 0.173413
0.178084 0.182803 0.18757 0.192384 0.197244 0.20215 0.2071 0.212095
0.217133 0.222214 0.227337 0.2325 0.237704 0.242948 0.24823 0.25355
0.258907 0.264301 0.26973 0.275194 0.280691 0.286222 0.291785 0.297379
0.303003 0.308658 0.314341 0.320052 0.32579 0.331555 0.337344 0.343159
0.348997 0.354857 0.36074 0.366643 0.372567 0.37851 0.384471 0.390449
0.396444 0.402455 0.40848 0.414519 0.420571 0.426635 0.432709 0.438794
0.444889 0.450991 0.457101 0.463218 0.46934 0.475466 0.481596 0.487729
0.493864 0.5 0.506136 0.512271 0.518404 0.524534 0.53066 0.536782 0.542899
0.549009 0.555111 0.561205 0.56729 0.573365 0.579429 0.585481 0.59152
0.597545 0.603556 0.609551 0.615529 0.62149 0.627433 0.633357 0.63926
0.645143 0.651003 0.656841 0.662656 0.668445 0.67421 0.679948 0.685659
0.691342 0.696997 0.702621 0.708215 0.713778 0.719309 0.724806 0.73027
0.735699 0.741092 0.74645 0.75177 0.757052 0.762295 0.767499 0.772663
0.777786 0.782867 0.787905 0.7929 0.79785 0.802756 0.807616 0.812431
0.817197 0.821916 0.826587 0.831209 0.83578 0.840301 0.844771 0.849189
0.853554 0.857866 0.862124 0.866328 0.870476 0.874569 0.878605 0.882584
0.886506 0.890369 0.894174 0.897919 0.901605 0.905229 0.908793 0.912295
0.915736 0.919113 0.922428 0.925678 0.928865 0.931987 0.935044 0.938036
0.940961 0.94382 0.946613 0.949338 0.951995 0.954585 0.957106 0.959558
0.96194 0.964254 0.966497 0.96867 0.970773 0.972804 0.974765 0.976654
0.978471 0.980216 0.981889 0.983489 0.985016 0.98647 0.987852 0.989159
0.990393 0.991553 0.992639 0.993651 0.994589 0.995452 0.99624 0.996954
0.997593 0.998156 0.998645 0.999059 0.999398 0.999661 0.999849 0.999962
1 0.999962 0.999849 0.999661 0.999398 0.999059 0.998645 0.998156 0.997592
0.996953 0.996239 0.995451 0.994588 0.99365 0.992638 0.991552 0.990392
0.989158 0.987851 0.986469 0.985015 0.983488 0.981887 0.980215 0.978469
0.976652 0.974763 0.972803 0.970771 0.968669 0.966495 0.964252 0.961939
0.959556 0.957104 0.954583 0.951993 0.949336 0.946611 0.943818 0.940959
0.938034 0.935042 0.931985 0.928863 0.925676 0.922425 0.919111 0.915733
0.912293 0.908791 0.905227 0.901602 0.897917 0.894171 0.890367 0.886503
0.882582 0.878602 0.874566 0.870473 0.866325 0.862121 0.857863 0.853551
0.849186 0.844768 0.840298 0.835777 0.831205 0.826584 0.821913 0.817194
0.812427 0.807613 0.802753 0.797847 0.792896 0.787901 0.782863 0.777782
0.77266 0.767496 0.762292 0.757048 0.751766 0.746446 0.741089 0.735695
0.730266 0.724802 0.719305 0.713774 0.708211 0.702617 0.696993 0.691338
0.685655 0.679944 0.674206 0.668441 0.662652 0.656837 0.650999 0.645139
0.639256 0.633353 0.627429 0.621486 0.615525 0.609547 0.603552 0.597541
0.591516 0.585477 0.579425 0.573361 0.567286 0.561201 0.555107 0.549004
0.542894 0.536778 0.530656 0.52453 0.518399 0.512266 0.506131 0.499996
0.49386 0.487725 0.481592 0.475462 0.469335 0.463213 0.457097 0.450987
0.444884 0.43879 0.432705 0.42663 0.420566 0.414515 0.408476 0.40245
0.39644 0.390445 0.384466 0.378505 0.372563 0.366639 0.360736 0.354853
0.348993 0.343155 0.33734 0.331551 0.325786 0.320048 0.314337 0.308654
0.302999 0.297375 0.291781 0.286218 0.280687 0.27519 0.269726 0.264297
0.258904 0.253547 0.248226 0.242944 0.237701 0.232497 0.227333 0.222211
0.21713 0.212092 0.207097 0.202146 0.19724 0.19238 0.187566 0.182799
0.17808 0.17341 0.168788 0.164217 0.159696 0.155226 0.150808 0.146443
0.142131 0.137873 0.133669 0.129521 0.125428 0.121392 0.117413 0.113491
0.109628 0.105823 0.102078 0.0983929 0.0947681 0.0912043 0.0877021
0.084262 0.0808845 0.0775701 0.0743194 0.0711327 0.0680107 0.0649537
0.0619622 0.0590366 0.0561775 0.0533852 0.0506602 0.0480028 0.0454136
0.0428927 0.0404407 0.038058 0.0357447 0.0335014 0.0313284 0.0292259
0.0271944 0.025234 0.0233451 0.0215281 0.019783 0.0181103 0.0165102
0.0149829 0.0135286 0.0121476 0.01084 0.00960615 0.0084461 0.0073601
0.00634828 0.00541082 0.00454783 0.00375944 0.00304583 0.00240701 0.00184315
0.00135431 0.000940561 0.000601947 0.000338584 0.000150442 3.75807e-05
;
#X coords 0 1 511 0 200 120 1;
#X restore 210 79 graph;
#X msg 140 86 0;
#X obj 34 135 osc~;
#X obj 34 87 samplerate~;
#X obj 34 158 *~ -0.5;
#X obj 34 181 +~ 0.5;
#X obj 26 206 tabwrite~ \$0-hann;
#X text 196 71 1;
#X text 189 189 0;
#X text 205 202 0;
#X obj 34 111 / 512;
#X obj 26 64 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X text 315 56 Hann window;
#X text 82 133 period 512;
#X text 24 39 recalculate Hann;
#X text 59 54 window table;
#X text 391 205 511;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 10 0 2 0;
#X connect 11 0 3 0;
#X connect 11 0 1 0;
#X connect 11 0 6 0;
#X restore 142 458 pd hann-window;
#X obj 411 395 list fromsymbol;
#X obj 411 366 symbol \$1;
#X obj 411 419 route bang;
#X obj 478 445 list tosymbol;
#X msg 478 470 set \$1;
#X obj 478 495 s \$0-profil-tab;
#X connect 1 0 0 1;
#X connect 4 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 8 1 9 0;
#X connect 9 0 5 1;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
